@model CaseSummary


<h2>Document Analysis Results</h2>

<script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
    mermaid.initialize({ startOnLoad: true });
</script>

<div>
    <h3>Summary</h3>
    <p>@Model.Summary</p>

    <h3>Word Frequencies</h3>
    <ul>
        @foreach (var caseSummaryWord in Model.CaseSummaryWords)
        {
            <li>@caseSummaryWord.Word.Text - @caseSummaryWord.Frequency times</li>
        }
    </ul>

    <h3>Mermaid Diagram</h3>
    @Html.Raw(Model.MermaidCode)
    <div class="mermaid">
        @Html.Raw(Model.MermaidCode)
    </div>

    <h3>Legal References</h3>
    <ul>
        @foreach (var legalReference in Model.GetLegalReferences())
        {
            <li>@legalReference.Text</li>
        }
    </ul>
</div>
