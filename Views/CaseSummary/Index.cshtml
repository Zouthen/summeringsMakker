<!-- Load jQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<!-- Load DataTables -->
<script src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>
<link href="https://cdn.datatables.net/1.12.1/css/jquery.dataTables.min.css" rel="stylesheet" />

<!-- Ensure there is no space or error in your DataTables Bootstrap integration if you use it -->
<script src="https://cdn.datatables.net/1.12.1/js/dataTables.bootstrap5.min.js"></script>
<link href="https://cdn.datatables.net/1.12.1/css/dataTables.bootstrap5.min.css" rel="stylesheet" />

<!-- Your Script -->
<script>
    $(document).ready(function () {
        var table = $('#caseGrid');
        console.log($ === jQuery); // Should log true
        console.log($.fn.DataTable); // Should not be undefined if DataTables is loaded
        console.log('jQuery version:', $.fn.jquery); // Check jQuery version
        console.log('DataTables loaded:', !!$.fn.DataTable); // Check if DataTables is loaded

        if ($.fn.DataTable.isDataTable(table)) {
            table.DataTable().destroy();
        }

        var columnsConfig = [
            { "data": "caseSummaryId", "name": "Id", "autoWidth": true },
            { "data": "summary", "name": "Summary", "autoWidth": true },
        ];

        table.DataTable({
            "processing": true,
            "serverSide": true,
            "filter": true,
            "orderMulti": false,
            "pageLength": 10,
            "ajax": {
                "url": "/CaseSummary/LoadCases",
                "type": "POST",
                "datatype": "json",
            },
            "columnDefs": [
                { "targets": [1], "searchable": false, "orderable": false },
            ],
            "columns": columnsConfig
        });
    });
</script>



<div class="container">
    <br />
    <div style="width:90%; margin:0 auto;">
        <table id="caseGrid" class="table table-striped table-bordered dt-responsive nowrap" width="100%" cellspacing="0">
            <thead>
                <tr>
                    <th>Id</th>
                    <th>Summary</th>
                </tr>
            </thead>
        </table>
    </div>
</div>